<!doctype html>
<html lang="nb">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Befaring</title>

  <link rel="manifest" href="./manifest.webmanifest">
  <meta name="theme-color" content="#3D3D3D">
  <link rel="apple-touch-icon" href="./icons/icon-192.png">

  <link rel="stylesheet" href="./styles.css">
  <link rel="stylesheet" href="./print.css">
</head>
<body>
<header class="header">
  <div class="wrap header__bar">
    <div class="brand">
      <img class="logo-img" src="./icons/icon-192.png" alt="Befaring">
      <div>
        <div class="t1">Befaring</div>
        <div class="t2">Risikogjennomgang og dato</div>
      </div>
    </div>
    <div class="actions">
      <button class="btn" id="btnViewSaved" onclick="window.location.href='saved-inspections.html'">ðŸ“‹ Lagrede</button>
      <button class="btn" id="btnSave">Lagre</button>
      <button class="btn" id="btnLoad">Last</button>
      <button class="btn danger" id="btnReset">Nullstill</button>
      <button class="btn" id="btnExportPdf">Eksporter PDF</button>
      <button class="btn" id="btnShare">Send rapport</button>
      <button class="btn primary" id="btnExport">Eksporter Word</button>
      <button class="btn" id="btnArchive">Arkiver befaring</button>
    </div>
  </div>
</header>

<main class="wrap">
  <section class="card">
    <h2>Kunde (BRREG)</h2>
    <p class="muted">Skriv org.nr (9 siffer) for oppslag.</p>

    <div class="row">
      <div>
        <label>Org.nr</label>
        <input id="orgnr" inputmode="numeric" placeholder="9 siffer" />
      </div>
      <div>
        <label>Kundenavn</label>
        <input id="customerName" placeholder="Fylles fra BRREG" />
      </div>
    </div>

    <div class="row">
      <div>
        <label>Organisasjonsform</label>
        <input id="orgForm" placeholder="Fylles fra BRREG" />
      </div>
      <div>
        <label>NÃ¦ringskode</label>
        <input id="industry" placeholder="Fylles hvis tilgjengelig" />
      </div>
    </div>

    <div class="status" id="brregStatus">BRREG: klar</div>
  </section>

  <section class="card">
    <h2>Rapportinfo</h2>
    <div class="row">
      <div>
        <label>Befaringsdato</label>
        <input id="inspectionDate" type="date" />
      </div>
      <div>
        <label>Rapport utarbeidet av</label>
        <input id="reportAuthor" placeholder="Navn" />
      </div>
    </div>

    <h3 style="margin-top:14px;">Tilstede ved gjennomgang</h3>
    <div id="attendees"></div>
    <button class="btn" id="btnAddAttendee">+ Legg til person</button>
  </section>

  <section class="card">
    <div class="locHeader">
      <h2 style="margin:0;">Lokasjoner</h2>
      <button class="btn primary" id="btnAddLocation">+ Ny lokasjon</button>
    </div>

    <div id="locTabs" class="locTabs"></div>

    <div class="row">
      <div>
        <label>Adresse</label>
        <input id="address" placeholder="Velg fra forslag eller skriv manuelt" />
      </div>
    </div>

    <div class="inline">
      <button class="btn" id="btnGPS">Hent GPS</button>
      <span class="pill"><span class="dot green"></span><span id="gpsStatus">GPS: ikke hentet</span></span>
    </div>

    <div id="addrBox" class="addrBox" style="display:none;">
      <div class="addrBox__title">Forslag til adresse nÃ¦r deg</div>
      <div id="addrSuggestions" class="addrBox__list"></div>
      <div class="muted">Velg riktig adresse. Du kan fortsatt redigere manuelt.</div>
    </div>
  </section>

  <section class="card">
    <div class="devHeader">
      <h2 id="devHeaderTitle" style="margin:0;">Punkt</h2>
      <div class="muted" id="devHeaderSub"></div>
    </div>

    <div class="row">
      <div>
        <label>Type</label>
        <select id="itemType">
          <option value="AVVIK" selected>Avvik</option>
          <option value="ANBEFALING">Anbefaling</option>
        </select>
      </div>
      <div>
        <label>Ref.nr (auto)</label>
        <input id="itemRef" disabled />
      </div>
    </div>

    <div class="row">
      <div>
        <label>Alvorlighet (kun avvik)</label>
        <select id="itemSeverity">
          <option value="HÃ¸y">HÃ¸y</option>
          <option value="Middels" selected>Middels</option>
          <option value="Lav">Lav</option>
        </select>
      </div>
      <div>
        <label>Frist for tilbakemelding (kun avvik)</label>
        <input id="itemDue" type="date" />
      </div>
    </div>

    <label>Tittel</label>
    <input id="itemTitle" placeholder="Kort beskrivelse" />

    <label>Beskrivelse</label>
    <textarea id="itemDesc" placeholder="Hva er observert? Hva anbefales?"></textarea>

    <label>Bilder (flere)</label>
    <input id="itemPhotos" type="file" accept="image/*" capture="environment" multiple>

    <div class="inline">
      <button class="btn primary" id="btnAddItem">Legg til</button>
      <span class="muted">Du kan legge til flere bilder og kommentere per bilde etterpÃ¥.</span>
    </div>

    <div id="itemList"></div>
  </section>
</main>

<script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("./sw.js").catch(()=>{});
  }
</script>
<script src="./app.js"></script>
</body>
</html>
